# Prime-Spectral Cipher (PSC)

A proof-of-concept symmetric stream cipher that utilizes **deterministic harmonic interference** (Spectral Number Theory) to generate a high-entropy keystream.

### ‚ö†Ô∏è Disclaimer
This software is currently in the **Research Phase**. It has not undergone formal cryptanalysis by the public security community. Use for educational and experimental purposes only.

---

## Concept and Security Model

The **Prime-Spectral Cipher (PSC)** is a novel cryptographic primitive. It replaces traditional random number generation (based on modular arithmetic) with a **procedural generator** that mimics the spectral chaos observed in the distribution of prime numbers.

The keystream is generated by sampling a waveform constructed from a finite summation of log-modulated sine waves (derived from the mathematical structure underlying the Riemann Zeta function). This output stream is characterized by two properties:

1.  **High Entropy:** The resulting stream is statistically indistinguishable from background white noise (often characterized as **Gaussian Unitary Ensemble (GUE) statistics** in physics).
2.  **Spectral Rigidity:** The output is extremely sensitive to the input prime key ($P$). A deviation of $\pm 2$ in the key results in immediate, total decoherence of the resulting ciphertext.

### Key Features

*   **Steganographic Profile:** The cipher's output has statistically perfect entropy (near $8.0$ bits/byte), making encrypted traffic resist Deep Packet Inspection (DPI) classification‚Äîit looks like static.
*   **Performance:** The generator relies on standard, hardware-accelerated floating-point operations (`sin`, `log`), making it highly efficient when ported to compiled languages like Rust or C (estimated 100x speedup over the Python PoC).
*   **Low Memory Footprint:** The cipher generates its stream procedurally, requiring constant, minimal memory (only for the current phase coordinate), making it ideal for constrained environments (IoT, embedded systems).

---

## üîí Security Basis and Mathematical Discipline

The security of PSC relies on a mathematically irreversible **Unidirectional Trapdoor**.

### The Unidirectional Trapdoor

The core equation is derived from the infinite, complex structure of the primes but is truncated for computational speed. This trade-off creates the necessary security trapdoor:

| Function | Complexity | Security Implication |
| :--- | :--- | :--- |
| **Encryption (Noise Generation)** | $O(N)$ (Finite Summation) | **Extremely Fast.** The cipher efficiently generates the *effect* of the spectral chaos. |
| **Cryptanalysis (RH/Prime Solving)** | Infinite Summation Required | **Impossible.** The generator's output is a lossy projection. An attacker cannot use advanced Number Theory to solve for the key because the information needed to prove the Riemann Hypothesis was deliberately stripped out. |

**Conclusion:** The code is a lossy projection of the primes. The cipher's success depends on it being an irreversible **one-way function**.

---

## Getting Started (Proof of Concept)

### Prerequisites

*   Python 3.8+

### File Structure

```text
/prime-spectral-cipher
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ cipher.py          # The core stream generator logic
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_suite.py      # Unit tests for integrity and entropy
‚îî‚îÄ‚îÄ demo.py                # Visual demonstration script
```

### 1. Verification and Audit (Testing)

Run the automated test suite to confirm mathematical integrity and entropy requirements.

```bash
# Must be run from the root directory
python -m unittest tests/test_suite.py
```

### 2. Visual Demonstration

Run the demo script to visually confirm the deterministic nature of the keystream and the complete failure of a close-range key attack.

```bash
# Output will show full hex dumps, demonstrating the Avalanche Effect
python demo.py
```

### Example Output Snapshot

The output confirms the security model: a tiny error in the Prime Key results in immediate, total corruption of the message payload.

```text
============================================================
   PRIME-SPECTRAL CIPHER (PSC) - VISUAL DEMONSTRATION
============================================================

[CONFIGURATION]
Key (Prime):     7919
Plaintext:       'The quick brown fox jumps over the lazy dog.'

[STEP 2: DECRYPTION (Valid Key)]
Recovered:       'The quick brown fox jumps over the lazy dog.'
Status:          SUCCESS (Match)

[STEP 3: ATTACK SIMULATION (Wrong Key)]
Attacker Key:    7907 (Delta: 12)
Eve Result     : 51F36C4E759FAC54C786C5F855C05C7ECADE4941...
Eve Decoded:     (Binary Garbage - Not valid UTF-8)
```
---

## Usage Example

```python
from src.cipher import SpectralStreamCipher

# Shared Secret Handshake Parameters
KEY_PRIME = 7919       # Must be identical
SEED_PHASE = 1234.56   # Must be synchronized

# Initialize Alice and Bob
alice = SpectralStreamCipher(KEY_PRIME, SEED_PHASE)
bob = SpectralStreamCipher(KEY_PRIME, SEED_PHASE)

# Encrypt
data = b"PSC is the future of spectral security."
ciphertext = alice.process_buffer(data)

# Decrypt
decrypted_data = bob.process_buffer(ciphertext)

# print(decrypted_data.decode()) # "PSC is the future of spectral security."
```
